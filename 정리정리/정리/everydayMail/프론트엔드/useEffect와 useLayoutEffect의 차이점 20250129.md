## [useEffectì™€ useLayoutEffectì˜ ì°¨ì´ì ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ì£¼ì„¸ìš”.](https://www.maeil-mail.kr/question/46)

í”„ë¡ íŠ¸ì—”ë“œì™€ ê´€ë ¨ëœ ì§ˆë¬¸ì´ì—ìš”.

`useEffect`ì™€Â `useLayoutEffect`ëŠ” ëª¨ë‘ ë Œë”ë§ëœ í›„ì— íŠ¹ì • ì‘ì—…ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì‹¤í–‰ë˜ëŠ”Â **íƒ€ì´ë°**ê³¼Â **ìš©ë„**ê°€ ë‹¤ë¦…ë‹ˆë‹¤.

ë¨¼ì €,Â `useEffect`ëŠ”Â **ë Œë”ë§ì´ ì™„ë£Œë˜ëŠ” ì‹œì **ì—Â **ë¹„ë™ê¸°ì **ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤. ì¦‰, í™”ë©´ì´ ì‹¤ì œë¡œ ì‚¬ìš©ìì—ê²Œ ê·¸ë ¤ì§„ í›„ì—Â `useEffect`ê°€ ì‹¤í–‰ë˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ê·¸ë˜ì„œÂ `useEffect`ëŠ” ë³´í†µ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì‘ì—…ì´ë‚˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ ë“± ë Œë”ë§ í›„ì— í™”ë©´ì— ì§ì ‘ì ì¸ ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ” ì‘ì—…ì— ì£¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

ë°˜ë©´ì—Â `useLayoutEffect`ëŠ”Â **ë Œë”ë§ í›„ DOMì´ ì—…ë°ì´íŠ¸ë˜ê¸° ì§ì „ì˜ ì‹œì **ì—Â **ë™ê¸°ì **ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤. ì—¬ê¸°ì„œÂ **ë™ê¸°ì **ì´ë¼ëŠ” ê²ƒì€ í™”ë©´ì— ë‚´ìš©ì´ ê·¸ë ¤ì§€ê¸° ì „ì— ëª¨ë“  ë ˆì´ì•„ì›ƒ ê´€ë ¨ ì‘ì—…ì´ ì™„ë£Œëœë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´,Â **DOMì˜ í¬ê¸°ë¥¼ ì¸¡ì •**í•˜ê±°ë‚˜Â **ìœ„ì¹˜ë¥¼ ì¡°ì •í•´ì•¼ í• **Â ë•ŒÂ `useLayoutEffect`ë¥¼ ì‚¬ìš©í•˜ë©´ ì¦‰ê°ì ìœ¼ë¡œ ê·¸ ë³€ê²½ì‚¬í•­ì´ ë°˜ì˜ë˜ì–´ í™”ë©´ ê¹œë¹¡ì„ì´ë‚˜ ë¶ˆí•„ìš”í•œ ì¬ë Œë”ë§ì„ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì •ë¦¬í•˜ë©´,Â **ë Œë”ë§ í›„ ì‹¤í–‰ë˜ëŠ” ë¹„ë™ê¸° ì‘ì—…**ì—ëŠ”Â `useEffect`ê°€ ì í•©í•˜ê³ , ë ˆì´ì•„ì›ƒ ì‘ì—…ì´ë‚˜ DOM ì¡°ì‘ê³¼ ê°™ì´Â **í™”ë©´ì´ ê·¸ë ¤ì§€ê¸° ì „ì— ì™„ë£Œë˜ì–´ì•¼ í•˜ëŠ” ì‘ì—…**ì—ëŠ”Â `useLayoutEffect`ê°€ ì í•©í•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ë©´,Â `useEffect`ëŠ” ì‚¬ìš©ì ë°ì´í„°ë¥¼ APIë¡œë¶€í„° ê°€ì ¸ì˜¤ëŠ” ìƒí™©ì— ìì£¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ë°ì´í„°ê°€ ë Œë”ë§ í›„ì— ì„¤ì •ë˜ë©´ í™”ë©´ì´ ìì—°ìŠ¤ëŸ½ê²Œ ì—…ë°ì´íŠ¸ë˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

```jsx
useEffect(() => {
  fetchData().then(data => setData(data));
}, []);
```

`useLayoutEffect`ëŠ” DOMì˜ í¬ê¸°ë¥¼ ì¸¡ì •í•´ì„œ, ë‹¤ë¥¸ ìš”ì†Œì˜ ìœ„ì¹˜ë¥¼ ì¡°ì •í•´ì•¼ í•  ë•Œ ìœ ìš©í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, ì–´ë–¤ ìš”ì†Œì˜ ë†’ì´ë¥¼ ì¸¡ì •í•´ ê·¸ ë†’ì´ì— ë§ì¶° ë ˆì´ì•„ì›ƒì„ ë§ì¶”ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤:

```jsx
useLayoutEffect(() => {
  const height = ref.current.offsetHeight;
  setHeight(height);
}, []);
```

ë‹¨,Â `useLayoutEffect`Â ì‚¬ìš© ì‹œÂ **ì„±ëŠ¥ ë©´ì—ì„œ ì£¼ì˜í•  ì **ì´ ìˆìŠµë‹ˆë‹¤.Â `useLayoutEffect`ëŠ” ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ë„ˆë¬´ ë§ì€ ì‘ì—…ì´ ì‹¤í–‰ë˜ë©´ ë Œë”ë§ì´ ëŠë ¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë³´í†µì€Â `useEffect`ë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê³ , í™”ë©´ì— ì˜í–¥ì„ ì£¼ëŠ” ì‘ì—…ë§ŒÂ `useLayoutEffect`ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

## ğŸ“š ì¶”ê°€ í•™ìŠµ ìë£Œë¥¼ ê³µìœ í•©ë‹ˆë‹¤.

- [[F-Lab] Reactì˜ useEffectì™€ useLayoutEffect ì´í•´í•˜ê¸°](https://f-lab.kr/insight/understanding-useeffect-and-uselayouteffect-in-react-20240618?gad_source=1&gclid=Cj0KCQiAs5i8BhDmARIsAGE4xHxS3kYk36u3puO4sBg1VUM0jPwZPrMBYk7CUGUq3wzBdt6Md0nOxRcaAgVjEALw_wcB)